syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.emercurius.productservice.grpc";
option java_outer_classname = "ProductServiceProto";

message ProductGrpcResponseDTO {
  string id = 1;
  string name = 2;
  string description = 3;
  double price = 4;
  int32 stockQuantity = 5;
}

message ProductGrpcOverviewDto {
  string id = 1;
  string name = 2;
  double price = 3;
}

message ProductIdRequest {
  string id = 1;
}

message StockQuantityResponse {
  int32 stockQuantity = 1;
}

message StockQuantityUpdateRequest {
  string productId = 1;
  int32 quantity = 2;
}

message StockQuantityUpdateListRequest {
  repeated StockQuantityUpdateRequest quantityRequestList = 1;
}

message StockQuantityUpdateListResponse {
}

message StockAvailabilityGrpcResponse {
  bool isAvailable = 1;
}

service ProductGrpcService {

  rpc GetProductById(ProductIdRequest) returns (ProductGrpcResponseDTO);
  rpc GetStockQuantity(ProductIdRequest) returns (StockQuantityResponse);
  rpc UpdateStockQuantity(StockQuantityUpdateRequest) returns (StockQuantityResponse);
  rpc UpdateListStockQuantity(StockQuantityUpdateListRequest) returns (StockQuantityUpdateListResponse);
  rpc CheckStockAvailability(StockQuantityUpdateRequest) returns (StockAvailabilityGrpcResponse);

}
